# 🚀 腾讯云云函数部署指南

## 📋 快速开始

### 1. 安装腾讯云CLI工具
```bash
npm install -g @cloudbase/cli
```

### 2. 登录腾讯云
```bash
tcb login
```

### 3. 部署云函数
```bash
cd "D:\桌面\cursor web\cloud-functions"
.\deploy-cloud.ps1
```

## 🔍 详细步骤

### 第一步：环境准备
- 确保已开通腾讯云云开发服务
- 环境ID：`cloud1-9ghdf1i93f8fb2b9`
- 已开通云函数、数据库、云存储服务

### 第二步：安装CLI工具
```bash
# 使用npm安装
npm install -g @cloudbase/cli

# 验证安装
tcb --version
```

### 第三步：登录授权
```bash
tcb login
# 系统会打开浏览器，请完成授权
```

### 第四步：执行部署
```bash
# 进入云函数目录
cd "D:\桌面\cursor web\cloud-functions"

# 运行部署脚本
.\deploy-cloud.ps1
```

## ✅ 验证部署

### 在腾讯云控制台检查
1. 访问：https://console.cloud.tencent.com/tcb
2. 选择环境：`cloud1-9ghdf1i93f8fb2b9`
3. 点击"云函数"，确认4个函数已部署：
   - getLuckyNote
   - getLoveQuiz
   - addMemory
   - getMemories

## 🧪 测试云函数

### 测试参数
- **getLuckyNote**: `{}`
- **getLoveQuiz**: `{}`
- **addMemory**: `{"title": "测试", "content": "测试内容"}`
- **getMemories**: `{}`

## 🔧 常见问题

### 问题1：CLI未安装
```bash
npm install -g @cloudbase/cli
```

### 问题2：未登录
```bash
tcb login
```

### 问题3：环境ID错误
检查 `cloudbase-config.js` 中的环境ID

### 问题4：部署失败
1. 检查云函数服务是否开通
2. 查看错误日志
3. 确认代码语法正确

## 🎯 部署成功标志

```
✅ getLuckyNote 部署成功！
✅ getLoveQuiz 部署成功！
✅ addMemory 部署成功！
✅ getMemories 部署成功！
🎉 云函数部署完成！
```

## 📱 前端集成

部署完成后，前端即可调用云函数：
```javascript
// 调用幸运签
const result = await cloudBaseManager.callFunction('getLuckyNote');
```

---

**按照以上步骤操作，即可成功部署腾讯云云函数！**
