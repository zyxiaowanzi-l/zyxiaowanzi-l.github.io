# 👥 多用户人脸识别使用说明

## 🎯 功能概述

现在你的恋爱日记网站支持多用户人脸识别管理了！你和女朋友都可以通过人脸识别来添加恋爱动态和甜蜜相册，而且拥有不同的权限级别。

## 🔐 用户角色系统

### 👑 管理员 (Admin)
- **权限**: 完全权限
- **功能**: 
  - 添加回忆、恋爱动态、甜蜜相册
  - 删除任何内容
  - 管理所有用户
  - 系统设置

### 💕 伴侣 (Partner)  
- **权限**: 添加内容权限
- **功能**:
  - 添加回忆、恋爱动态、甜蜜相册
  - 查看所有内容
  - 不能删除内容
  - 不能管理用户

### 👀 访客 (Guest)
- **权限**: 只读权限
- **功能**:
  - 查看所有内容
  - 不能添加或修改任何内容

## 🚀 使用方法

### 1. 首次设置（管理员）

1. **启用开发者模式**
   - 点击"🔧 开发者模式"按钮
   - 输入密码: `zlyloveyzl`

2. **注册管理员账户**
   - 点击"📷 人脸识别验证"
   - 允许摄像头权限
   - 点击"📸 拍照识别"
   - 输入姓名（如：你的名字）
   - 选择角色：1（管理员）
   - 完成注册

### 2. 注册女朋友账户

1. **切换到用户注册模式**
   - 点击"🔄 切换模式"按钮
   - 确认切换到用户注册模式

2. **注册伴侣账户**
   - 点击"📷 人脸识别验证"
   - 让女朋友拍照
   - 输入姓名（如：女朋友的名字）
   - 选择角色：2（伴侣）
   - 完成注册

### 3. 日常使用

#### 你（管理员）登录：
- 点击"📷 人脸识别验证"
- 拍照识别
- 自动启用开发者模式
- 可以添加、删除、管理所有内容

#### 女朋友登录：
- 点击"📷 人脸识别验证"
- 拍照识别
- 自动启用伴侣模式
- 可以添加恋爱动态和甜蜜相册
- 右上角显示"💕 伴侣模式 - 女朋友"

## 🎨 界面功能

### 开发者模式下的新按钮：

- **👥 用户管理**: 查看所有注册用户，删除用户
- **🔄 切换模式**: 在用户识别和用户注册模式间切换
- **👤 用户信息**: 查看当前登录用户信息
- **🚪 登出**: 退出当前用户登录

### 伴侣模式指示器：
- 右上角显示粉色渐变条
- 显示"💕 伴侣模式 - 用户名"
- 表示当前以伴侣身份登录

## 📱 功能权限说明

### 恋爱动态功能：
- **管理员**: 可以添加、查看、删除
- **伴侣**: 可以添加、查看，不能删除
- **访客**: 只能查看

### 甜蜜相册功能：
- **管理员**: 可以添加、查看、删除
- **伴侣**: 可以添加、查看，不能删除  
- **访客**: 只能查看

### 回忆功能：
- **管理员**: 可以添加、查看、删除
- **伴侣**: 可以添加、查看，不能删除
- **访客**: 只能查看

## 🔧 高级功能

### 用户管理：
1. 点击"👥 用户管理"
2. 查看所有注册用户信息
3. 删除不需要的用户
4. 监控用户登录状态

### 模式切换：
1. 点击"🔄 切换模式"
2. 在识别模式和注册模式间切换
3. 识别模式：验证已注册用户
4. 注册模式：添加新用户

### 会话管理：
- 每次人脸识别成功后创建新会话
- 会话有效期：8小时
- 支持多用户同时在线
- 自动清理过期会话

## 💡 使用技巧

### 提高识别准确率：
1. 确保光线充足
2. 面部正对摄像头
3. 避免遮挡（眼镜、口罩等）
4. 保持适当距离

### 权限管理：
1. 定期检查用户列表
2. 及时删除不需要的用户
3. 合理分配用户角色
4. 监控异常登录

### 数据安全：
1. 人脸数据本地存储
2. 支持腾讯云API（需配置密钥）
3. 会话自动过期
4. 用户代理验证

## 🚨 注意事项

### 安全提醒：
- 人脸数据仅用于身份验证
- 不会上传到第三方服务器
- 定期清理过期用户数据
- 保护好开发者模式密码

### 使用限制：
- 每个用户只能注册一个人脸
- 删除用户后需要重新注册
- 会话过期需要重新识别
- 网络问题时会自动切换到离线模式

## 🎉 开始使用

现在你可以：

1. **刷新页面**，启用开发者模式
2. **注册你和女朋友的账户**
3. **享受多用户协作的恋爱日记**
4. **女朋友可以独立添加内容**
5. **你拥有完整的管理权限**

**💕 让爱情更加美好，让回忆更加丰富！**
